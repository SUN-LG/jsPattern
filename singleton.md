# 单例模式
**保证一个类仅有一个实例,并提供一个访问它的全局访问点**
**js是一门无类语言,可以直接创建一个对象,不必从类中创建而来.所以js的单例模式核心是:只有一个实例,并提供全局访问.**


## js的单例模式
```js
let obj
if (!obj) obj = createObj()
```

## 惰性单例模式
**惰性单例是指在需要的时候,才创建对象.**
* 使用闭包封装私有变量
* 将管理单例的逻辑和创建单例的逻辑分离,以符合单一职责原则

```js
// fn 是创建单例对象的函数
const getSingleton = (fn, ...args) => {
  let result
  return () => {
    return result || (result = fn.apply(this, args)
  }
}
```

*创建实例对象和管理对象的职责,放置在两个方法里.而这两个方法互相独立,互不影响.当他们组合在一起时,就可以创建唯一的实例对象了.*
